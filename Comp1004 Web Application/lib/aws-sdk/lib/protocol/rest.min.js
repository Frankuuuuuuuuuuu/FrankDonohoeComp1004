/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/aws-sdk@2.1342.0/lib/protocol/rest.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var util=require("../util"),populateHostPrefix=require("./helpers").populateHostPrefix;function populateMethod(e){e.httpRequest.method=e.service.api.operations[e.operation].httpMethod}function generateURI(e,t,a,r){var i=[e,t].join("/");i=i.replace(/\/+/g,"/");var o={},n=!1;if(util.each(a.members,(function(e,t){var a=r[e];if(null!=a)if("uri"===t.location){var u=new RegExp("\\{"+t.name+"(\\+)?\\}");i=i.replace(u,(function(e,t){return(t?util.uriEscapePath:util.uriEscape)(String(a))}))}else"querystring"===t.location&&(n=!0,"list"===t.type?o[t.name]=a.map((function(e){return util.uriEscape(t.member.toWireFormat(e).toString())})):"map"===t.type?util.each(a,(function(e,t){Array.isArray(t)?o[e]=t.map((function(e){return util.uriEscape(String(e))})):o[e]=util.uriEscape(String(t))})):o[t.name]=util.uriEscape(t.toWireFormat(a).toString()))})),n){i+=i.indexOf("?")>=0?"&":"?";var u=[];util.arrayEach(Object.keys(o).sort(),(function(e){Array.isArray(o[e])||(o[e]=[o[e]]);for(var t=0;t<o[e].length;t++)u.push(util.uriEscape(String(e))+"="+o[e][t])})),i+=u.join("&")}return i}function populateURI(e){var t=e.service.api.operations[e.operation],a=t.input,r=generateURI(e.httpRequest.endpoint.path,t.httpPath,a,e.params);e.httpRequest.path=r}function populateHeaders(e){var t=e.service.api.operations[e.operation];util.each(t.input.members,(function(t,a){var r=e.params[t];null!=r&&("headers"===a.location&&"map"===a.type?util.each(r,(function(t,r){e.httpRequest.headers[a.name+t]=r})):"header"===a.location&&(r=a.toWireFormat(r).toString(),a.isJsonValue&&(r=util.base64.encode(r)),e.httpRequest.headers[a.name]=r))}))}function buildRequest(e){populateMethod(e),populateURI(e),populateHeaders(e),populateHostPrefix(e)}function extractError(){}function extractData(e){var t=e.request,a={},r=e.httpResponse,i=t.service.api.operations[t.operation].output,o={};util.each(r.headers,(function(e,t){o[e.toLowerCase()]=t})),util.each(i.members,(function(e,t){var i=(t.name||e).toLowerCase();if("headers"===t.location&&"map"===t.type){a[e]={};var n=t.isLocationName?t.name:"",u=new RegExp("^"+n+"(.+)","i");util.each(r.headers,(function(t,r){var i=t.match(u);null!==i&&(a[e][i[1]]=r)}))}else if("header"===t.location){if(void 0!==o[i]){var p=t.isJsonValue?util.base64.decode(o[i]):o[i];a[e]=t.toType(p)}}else"statusCode"===t.location&&(a[e]=parseInt(r.statusCode,10))})),e.data=a}module.exports={buildRequest:buildRequest,extractError:extractError,extractData:extractData,generateURI:generateURI};
//# sourceMappingURL=/sm/33746796145216f8f89a08c00f5216de1d2fd5265ae5b47523340bed3f85b87d.map