/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/aws-sdk@2.1342.0/lib/protocol/rest_xml.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var AWS=require("../core"),util=require("../util"),Rest=require("./rest");function populateBody(e){var t=e.service.api.operations[e.operation].input,r=new AWS.XML.Builder,a=e.params,s=t.payload;if(s){var o=t.members[s];if(void 0===(a=a[s]))return;if("structure"===o.type){var p=o.name;e.httpRequest.body=r.toXML(a,o,p,!0)}else e.httpRequest.body=a}else e.httpRequest.body=r.toXML(a,t,t.name||t.shape||util.string.upperFirst(e.operation)+"Request")}function buildRequest(e){Rest.buildRequest(e),["GET","HEAD"].indexOf(e.httpRequest.method)<0&&populateBody(e)}function extractError(e){var t;Rest.extractError(e);try{t=(new AWS.XML.Parser).parse(e.httpResponse.body.toString())}catch(r){t={Code:e.httpResponse.statusCode,Message:e.httpResponse.statusMessage}}t.Errors&&(t=t.Errors),t.Error&&(t=t.Error),t.Code?e.error=util.error(new Error,{code:t.Code,message:t.Message}):e.error=util.error(new Error,{code:e.httpResponse.statusCode,message:null})}function extractData(e){var t;Rest.extractData(e);var r=e.request,a=e.httpResponse.body,s=r.service.api.operations[r.operation],o=s.output,p=(s.hasEventOutput,o.payload);if(p){var i=o.members[p];i.isEventStream?(t=new AWS.XML.Parser,e.data[p]=util.createEventStream(2===AWS.HttpClient.streamsApiVersion?e.httpResponse.stream:e.httpResponse.body,t,i)):"structure"===i.type?(t=new AWS.XML.Parser,e.data[p]=t.parse(a.toString(),i)):"binary"===i.type||i.isStreaming?e.data[p]=a:e.data[p]=i.toType(a)}else if(a.length>0){var u=(t=new AWS.XML.Parser).parse(a.toString(),o);util.update(e.data,u)}}module.exports={buildRequest:buildRequest,extractError:extractError,extractData:extractData};
//# sourceMappingURL=/sm/4322ca486111e0caa946f36894d04b8fa6531cc1f42e55f794c080b79f0fb8ed.map