/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/aws-sdk@2.1342.0/lib/token.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var AWS=require("./core");AWS.Token=AWS.util.inherit({constructor:function(e){if(AWS.util.hideProperties(this,["token"]),this.expired=!1,this.expireTime=null,this.refreshCallbacks=[],1===arguments.length){e=arguments[0];this.token=e.token,this.expireTime=e.expireTime}},expiryWindow:15,needsRefresh:function(){var e=AWS.util.date.getDate().getTime(),i=new Date(e+1e3*this.expiryWindow);return!!(this.expireTime&&i>this.expireTime)||(this.expired||!this.token)},get:function(e){var i=this;this.needsRefresh()?this.refresh((function(t){t||(i.expired=!1),e&&e(t)})):e&&e()},refresh:function(e){this.expired=!1,e()},coalesceRefresh:function(e,i){var t=this;1===t.refreshCallbacks.push(e)&&t.load((function(e){AWS.util.arrayEach(t.refreshCallbacks,(function(t){i?t(e):AWS.util.defer((function(){t(e)}))})),t.refreshCallbacks.length=0}))},load:function(e){e()}}),AWS.Token.addPromisesToClass=function(e){this.prototype.getPromise=AWS.util.promisifyMethod("get",e),this.prototype.refreshPromise=AWS.util.promisifyMethod("refresh",e)},AWS.Token.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise},AWS.util.addPromises(AWS.Token);
//# sourceMappingURL=/sm/463708983bea98dacd727bebdf915c7e923c5c00482d07f10290a5393e3eadfb.map