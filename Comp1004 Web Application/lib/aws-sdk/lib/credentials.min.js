/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/aws-sdk@2.1342.0/lib/credentials.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var AWS=require("./core");AWS.Credentials=AWS.util.inherit({constructor:function(){if(AWS.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,this.refreshCallbacks=[],1===arguments.length&&"object"==typeof arguments[0]){var e=arguments[0].credentials||arguments[0];this.accessKeyId=e.accessKeyId,this.secretAccessKey=e.secretAccessKey,this.sessionToken=e.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var e=AWS.util.date.getDate().getTime(),s=new Date(e+1e3*this.expiryWindow);return!!(this.expireTime&&s>this.expireTime)||(this.expired||!this.accessKeyId||!this.secretAccessKey)},get:function(e){var s=this;this.needsRefresh()?this.refresh((function(t){t||(s.expired=!1),e&&e(t)})):e&&e()},refresh:function(e){this.expired=!1,e()},coalesceRefresh:function(e,s){var t=this;1===t.refreshCallbacks.push(e)&&t.load((function(e){AWS.util.arrayEach(t.refreshCallbacks,(function(t){s?t(e):AWS.util.defer((function(){t(e)}))})),t.refreshCallbacks.length=0}))},load:function(e){e()}}),AWS.Credentials.addPromisesToClass=function(e){this.prototype.getPromise=AWS.util.promisifyMethod("get",e),this.prototype.refreshPromise=AWS.util.promisifyMethod("refresh",e)},AWS.Credentials.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise},AWS.util.addPromises(AWS.Credentials);
//# sourceMappingURL=/sm/ade8d588440b1bd907e56e4f636787b392228d1d7ea45cf7af66863e0c27ac29.map