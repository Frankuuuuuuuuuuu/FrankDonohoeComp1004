/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/aws-sdk@2.1342.0/lib/dynamodb/converter.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var AWS=require("../core"),util=AWS.util,typeOf=require("./types").typeOf,DynamoDBSet=require("./set"),NumberValue=require("./numberValue");function formatList(r,e){for(var t={L:[]},n=0;n<r.length;n++)t.L.push(AWS.DynamoDB.Converter.input(r[n],e));return t}function convertNumber(r,e){return e?new NumberValue(r):Number(r)}function formatMap(r,e){var t={M:{}};for(var n in r){var u=AWS.DynamoDB.Converter.input(r[n],e);void 0!==u&&(t.M[n]=u)}return t}function formatSet(r,e){e=e||{};var t=r.values;if(e.convertEmptyValues&&0===(t=filterEmptySetValues(r)).length)return AWS.DynamoDB.Converter.input(null);var n={};switch(r.type){case"String":n.SS=t;break;case"Binary":n.BS=t;break;case"Number":n.NS=t.map((function(r){return r.toString()}))}return n}function filterEmptySetValues(r){var e=[];if({String:!0,Binary:!0,Number:!1}[r.type]){for(var t=0;t<r.values.length;t++)0!==r.values[t].length&&e.push(r.values[t]);return e}return r.values}AWS.DynamoDB.Converter={input:function r(e,t){t=t||{};var n=typeOf(e);return"Object"===n?formatMap(e,t):"Array"===n?formatList(e,t):"Set"===n?formatSet(e,t):"String"===n?0===e.length&&t.convertEmptyValues?r(null):{S:e}:"Number"===n||"NumberValue"===n?{N:e.toString()}:"Binary"===n?0===e.length&&t.convertEmptyValues?r(null):{B:e}:"Boolean"===n?{BOOL:e}:"null"===n?{NULL:!0}:"undefined"!==n&&"Function"!==n?formatMap(e,t):void 0},marshall:function(r,e){return AWS.DynamoDB.Converter.input(r,e).M},output:function r(e,t){var n,u,a;for(var o in t=t||{},e){var i=e[o];if("M"===o){for(var f in u={},i)u[f]=r(i[f],t);return u}if("L"===o){for(n=[],a=0;a<i.length;a++)n.push(r(i[a],t));return n}if("SS"===o){for(n=[],a=0;a<i.length;a++)n.push(i[a]+"");return new DynamoDBSet(n)}if("NS"===o){for(n=[],a=0;a<i.length;a++)n.push(convertNumber(i[a],t.wrapNumbers));return new DynamoDBSet(n)}if("BS"===o){for(n=[],a=0;a<i.length;a++)n.push(AWS.util.buffer.toBuffer(i[a]));return new DynamoDBSet(n)}if("S"===o)return i+"";if("N"===o)return convertNumber(i,t.wrapNumbers);if("B"===o)return util.buffer.toBuffer(i);if("BOOL"===o)return"true"===i||"TRUE"===i||!0===i;if("NULL"===o)return null}},unmarshall:function(r,e){return AWS.DynamoDB.Converter.output({M:r},e)}},module.exports=AWS.DynamoDB.Converter;
//# sourceMappingURL=/sm/bd1a2493af78dfcdb24bd6c4be102365dfa8d1876102987610e82bf98c7f87e1.map