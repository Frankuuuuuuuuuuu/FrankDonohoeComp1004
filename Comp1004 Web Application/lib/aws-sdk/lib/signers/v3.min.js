/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/aws-sdk@2.1342.0/lib/signers/v3.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var AWS=require("../core"),inherit=AWS.util.inherit;AWS.Signers.V3=inherit(AWS.Signers.RequestSigner,{addAuthorization:function(e,t){var i=AWS.util.date.rfc822(t);this.request.headers["X-Amz-Date"]=i,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(e,i)},authorization:function(e){return"AWS3 AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(e)},signedHeaders:function(){var e=[];return AWS.util.arrayEach(this.headersToSign(),(function(t){e.push(t.toLowerCase())})),e.sort().join(";")},canonicalHeaders:function(){var e=this.request.headers,t=[];return AWS.util.arrayEach(this.headersToSign(),(function(i){t.push(i.toLowerCase().trim()+":"+String(e[i]).trim())})),t.sort().join("\n")+"\n"},headersToSign:function(){var e=[];return AWS.util.each(this.request.headers,(function(t){("Host"===t||"Content-Encoding"===t||t.match(/^X-Amz/i))&&e.push(t)})),e},signature:function(e){return AWS.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push("/"),e.push(""),e.push(this.canonicalHeaders()),e.push(this.request.body),AWS.util.crypto.sha256(e.join("\n"))}}),module.exports=AWS.Signers.V3;
//# sourceMappingURL=/sm/76a4bce10f9d28d31bc6fd63d074b53a70782aedbca5a622d47cc6df4453468c.map