/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/aws-sdk@2.1342.0/lib/rds/signer.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var AWS=require("../core"),service=null,api={signatureVersion:"v4",signingName:"rds-db",operations:{}},requiredAuthTokenOptions={region:"string",hostname:"string",port:"number",username:"string"};AWS.RDS.Signer=AWS.util.inherit({constructor:function(e){this.options=e||{}},convertUrlToAuthToken:function(e){var n="https://";if(0===e.indexOf(n))return e.substring(n.length)},getAuthToken:function(e,n){"function"==typeof e&&void 0===n&&(n=e,e={});var t=this,r="function"==typeof n;e=AWS.util.merge(this.options,e);var i=this.validateAuthTokenOptions(e);if(!0!==i){if(r)return n(i,null);throw i}var o={region:e.region,endpoint:new AWS.Endpoint(e.hostname+":"+e.port),paramValidation:!1,signatureVersion:"v4"};e.credentials&&(o.credentials=e.credentials),(service=new AWS.Service(o)).api=api;var s=service.makeRequest();if(this.modifyRequestForAuthToken(s,e),!r){var u=s.presign(900);return this.convertUrlToAuthToken(u)}s.presign(900,(function(e,r){r&&(r=t.convertUrlToAuthToken(r)),n(e,r)}))},modifyRequestForAuthToken:function(e,n){e.on("build",e.buildAsGet),e.httpRequest.body=AWS.util.queryParamsToString({Action:"connect",DBUser:n.username})},validateAuthTokenOptions:function(e){var n="";for(var t in e=e||{},requiredAuthTokenOptions)Object.prototype.hasOwnProperty.call(requiredAuthTokenOptions,t)&&typeof e[t]!==requiredAuthTokenOptions[t]&&(n+="option '"+t+"' should have been type '"+requiredAuthTokenOptions[t]+"', was '"+typeof e[t]+"'.\n");return!n.length||AWS.util.error(new Error,{code:"InvalidParameter",message:n})}});
//# sourceMappingURL=/sm/47fe246dc37a4568c862853d6dc8587927c361dbe96bdda6628cd6dd8d1aae46.map