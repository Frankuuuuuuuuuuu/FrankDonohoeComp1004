/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/aws-sdk@2.1342.0/lib/event-stream/split-message.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var util=require("../core").util,toBuffer=util.buffer.toBuffer,PRELUDE_MEMBER_LENGTH=4,PRELUDE_LENGTH=2*PRELUDE_MEMBER_LENGTH,CHECKSUM_LENGTH=4,MINIMUM_MESSAGE_LENGTH=PRELUDE_LENGTH+2*CHECKSUM_LENGTH;function splitMessage(e){if(util.Buffer.isBuffer(e)||(e=toBuffer(e)),e.length<MINIMUM_MESSAGE_LENGTH)throw new Error("Provided message too short to accommodate event stream message overhead");if(e.length!==e.readUInt32BE(0))throw new Error("Reported message length does not match received message length");var E=e.readUInt32BE(PRELUDE_LENGTH);if(E!==util.crypto.crc32(e.slice(0,PRELUDE_LENGTH)))throw new Error("The prelude checksum specified in the message ("+E+") does not match the calculated CRC32 checksum.");var t=e.readUInt32BE(e.length-CHECKSUM_LENGTH);if(t!==util.crypto.crc32(e.slice(0,e.length-CHECKSUM_LENGTH)))throw new Error("The message checksum did not match the expected value of "+t);var r=PRELUDE_LENGTH+CHECKSUM_LENGTH,s=r+e.readUInt32BE(PRELUDE_MEMBER_LENGTH);return{headers:e.slice(r,s),body:e.slice(s,e.length-CHECKSUM_LENGTH)}}module.exports={splitMessage:splitMessage};
//# sourceMappingURL=/sm/fd297e5616948631ed3d0da0e8cb357b87b054b2ebf2497050cd8ca482da9413.map