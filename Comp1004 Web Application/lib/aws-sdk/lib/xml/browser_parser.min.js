/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/aws-sdk@2.1342.0/lib/xml/browser_parser.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var util=require("../util"),Shape=require("../model/shape");function DomXmlParser(){}function getElementByTagName(e,r){for(var t=e.getElementsByTagName(r),n=0,a=t.length;n<a;n++)if(t[n].parentNode===e)return t[n]}function parseXml(e,r){switch(r||(r={}),r.type){case"structure":return parseStructure(e,r);case"map":return parseMap(e,r);case"list":return parseList(e,r);case void 0:case null:return parseUnknown(e);default:return parseScalar(e,r)}}function parseStructure(e,r){var t={};return null===e||util.each(r.members,(function(n,a){if(a.isXmlAttribute){if(Object.prototype.hasOwnProperty.call(e.attributes,a.name)){var o=e.attributes[a.name].value;t[n]=parseXml({textContent:o},a)}}else{var l=a.flattened?e:getElementByTagName(e,a.name);l?t[n]=parseXml(l,a):a.flattened||"list"!==a.type||r.api.xmlNoDefaultLists||(t[n]=a.defaultValue)}})),t}function parseMap(e,r){for(var t={},n=r.key.name||"key",a=r.value.name||"value",o=r.flattened?r.name:"entry",l=e.firstElementChild;l;){if(l.nodeName===o){var m=getElementByTagName(l,n).textContent,s=getElementByTagName(l,a);t[m]=parseXml(s,r.value)}l=l.nextElementSibling}return t}function parseList(e,r){for(var t=[],n=r.flattened?r.name:r.member.name||"member",a=e.firstElementChild;a;)a.nodeName===n&&t.push(parseXml(a,r.member)),a=a.nextElementSibling;return t}function parseScalar(e,r){if(e.getAttribute){var t=e.getAttribute("encoding");"base64"===t&&(r=new Shape.create({type:t}))}var n=e.textContent;return""===n&&(n=null),"function"==typeof r.toType?r.toType(n):n}function parseUnknown(e){if(null==e)return"";if(!e.firstElementChild)return null===e.parentNode.parentNode?{}:0===e.childNodes.length?"":e.textContent;for(var r={type:"structure",members:{}},t=e.firstElementChild;t;){var n=t.nodeName;Object.prototype.hasOwnProperty.call(r.members,n)?r.members[n].type="list":r.members[n]={name:n},t=t.nextElementSibling}return parseStructure(e,r)}DomXmlParser.prototype.parse=function(e,r){if(""===e.replace(/^\s+/,""))return{};var t,n;try{if(window.DOMParser){try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){throw util.error(new Error("Parse error in document"),{originalError:e,code:"XMLParserError",retryable:!0})}if(null===t.documentElement)throw util.error(new Error("Cannot parse empty document."),{code:"XMLParserError",retryable:!0});var a=t.getElementsByTagName("parsererror")[0];if(a&&(a.parentNode===t||"body"===a.parentNode.nodeName||a.parentNode.parentNode===t||"body"===a.parentNode.parentNode.nodeName)){var o=a.getElementsByTagName("div")[0]||a;throw util.error(new Error(o.textContent||"Parser error in document"),{code:"XMLParserError",retryable:!0})}}else{if(!window.ActiveXObject)throw new Error("Cannot load XML parser");if((t=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,!t.loadXML(e))throw util.error(new Error("Parse error in document"),{code:"XMLParserError",retryable:!0})}}catch(e){n=e}if(t&&t.documentElement&&!n){var l=parseXml(t.documentElement,r),m=getElementByTagName(t.documentElement,"ResponseMetadata");return m&&(l.ResponseMetadata=parseXml(m,{})),l}if(n)throw util.error(n||new Error,{code:"XMLParserError",retryable:!0});return{}},module.exports=DomXmlParser;
//# sourceMappingURL=/sm/32d94fee674b4ea096afe4637a2a48faacedabe921bd171136f0f7e2fbf9b887.map