/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/aws-sdk@2.1342.0/lib/model/shape.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var Collection=require("./collection"),util=require("../util");function property(e,t,r){null!=r&&util.property.apply(this,arguments)}function memoizedProperty(e,t){e.constructor.prototype[t]||util.memoizedProperty.apply(this,arguments)}function Shape(e,t,r){t=t||{},property(this,"shape",e.shape),property(this,"api",t.api,!1),property(this,"type",e.type),property(this,"enum",e.enum),property(this,"min",e.min),property(this,"max",e.max),property(this,"pattern",e.pattern),property(this,"location",e.location||this.location||"body"),property(this,"name",this.name||e.xmlName||e.queryName||e.locationName||r),property(this,"isStreaming",e.streaming||this.isStreaming||!1),property(this,"requiresLength",e.requiresLength,!1),property(this,"isComposite",e.isComposite||!1),property(this,"isShape",!0,!1),property(this,"isQueryName",Boolean(e.queryName),!1),property(this,"isLocationName",Boolean(e.locationName),!1),property(this,"isIdempotent",!0===e.idempotencyToken),property(this,"isJsonValue",!0===e.jsonvalue),property(this,"isSensitive",!0===e.sensitive||e.prototype&&!0===e.prototype.sensitive),property(this,"isEventStream",Boolean(e.eventstream),!1),property(this,"isEvent",Boolean(e.event),!1),property(this,"isEventPayload",Boolean(e.eventpayload),!1),property(this,"isEventHeader",Boolean(e.eventheader),!1),property(this,"isTimestampFormatSet",Boolean(e.timestampFormat)||e.prototype&&!0===e.prototype.isTimestampFormatSet,!1),property(this,"endpointDiscoveryId",Boolean(e.endpointdiscoveryid),!1),property(this,"hostLabel",Boolean(e.hostLabel),!1),t.documentation&&(property(this,"documentation",e.documentation),property(this,"documentationUrl",e.documentationUrl)),e.xmlAttribute&&property(this,"isXmlAttribute",e.xmlAttribute||!1),property(this,"defaultValue",null),this.toWireFormat=function(e){return null==e?"":e},this.toType=function(e){return e}}function CompositeShape(e){Shape.apply(this,arguments),property(this,"isComposite",!0),e.flattened&&property(this,"flattened",e.flattened||!1)}function StructureShape(e,t){var r=this,i=null,p=!this.isShape;CompositeShape.apply(this,arguments),p&&(property(this,"defaultValue",(function(){return{}})),property(this,"members",{}),property(this,"memberNames",[]),property(this,"required",[]),property(this,"isRequired",(function(){return!1})),property(this,"isDocument",Boolean(e.document))),e.members&&(property(this,"members",new Collection(e.members,t,(function(e,r){return Shape.create(r,t,e)}))),memoizedProperty(this,"memberNames",(function(){return e.xmlOrder||Object.keys(e.members)})),e.event&&(memoizedProperty(this,"eventPayloadMemberName",(function(){for(var e=r.members,t=r.memberNames,i=0,p=t.length;i<p;i++)if(e[t[i]].isEventPayload)return t[i]})),memoizedProperty(this,"eventHeaderMemberNames",(function(){for(var e=r.members,t=r.memberNames,i=[],p=0,o=t.length;p<o;p++)e[t[p]].isEventHeader&&i.push(t[p]);return i})))),e.required&&(property(this,"required",e.required),property(this,"isRequired",(function(t){if(!i){i={};for(var r=0;r<e.required.length;r++)i[e.required[r]]=!0}return i[t]}),!1,!0)),property(this,"resultWrapper",e.resultWrapper||null),e.payload&&property(this,"payload",e.payload),"string"==typeof e.xmlNamespace?property(this,"xmlNamespaceUri",e.xmlNamespace):"object"==typeof e.xmlNamespace&&(property(this,"xmlNamespacePrefix",e.xmlNamespace.prefix),property(this,"xmlNamespaceUri",e.xmlNamespace.uri))}function ListShape(e,t){var r=this,i=!this.isShape;if(CompositeShape.apply(this,arguments),i&&property(this,"defaultValue",(function(){return[]})),e.member&&memoizedProperty(this,"member",(function(){return Shape.create(e.member,t)})),this.flattened){var p=this.name;memoizedProperty(this,"name",(function(){return r.member.name||p}))}}function MapShape(e,t){var r=!this.isShape;CompositeShape.apply(this,arguments),r&&(property(this,"defaultValue",(function(){return{}})),property(this,"key",Shape.create({type:"string"},t)),property(this,"value",Shape.create({type:"string"},t))),e.key&&memoizedProperty(this,"key",(function(){return Shape.create(e.key,t)})),e.value&&memoizedProperty(this,"value",(function(){return Shape.create(e.value,t)}))}function TimestampShape(e){var t=this;if(Shape.apply(this,arguments),e.timestampFormat)property(this,"timestampFormat",e.timestampFormat);else if(t.isTimestampFormatSet&&this.timestampFormat)property(this,"timestampFormat",this.timestampFormat);else if("header"===this.location)property(this,"timestampFormat","rfc822");else if("querystring"===this.location)property(this,"timestampFormat","iso8601");else if(this.api)switch(this.api.protocol){case"json":case"rest-json":property(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":property(this,"timestampFormat","iso8601")}this.toType=function(e){return null==e?null:"function"==typeof e.toUTCString?e:"string"==typeof e||"number"==typeof e?util.date.parseTimestamp(e):null},this.toWireFormat=function(e){return util.date.format(e,t.timestampFormat)}}function StringShape(){Shape.apply(this,arguments);var e=["rest-xml","query","ec2"];this.toType=function(t){return t=this.api&&e.indexOf(this.api.protocol)>-1?t||"":t,this.isJsonValue?JSON.parse(t):t&&"function"==typeof t.toString?t.toString():t},this.toWireFormat=function(e){return this.isJsonValue?JSON.stringify(e):e}}function FloatShape(){Shape.apply(this,arguments),this.toType=function(e){return null==e?null:parseFloat(e)},this.toWireFormat=this.toType}function IntegerShape(){Shape.apply(this,arguments),this.toType=function(e){return null==e?null:parseInt(e,10)},this.toWireFormat=this.toType}function BinaryShape(){Shape.apply(this,arguments),this.toType=function(e){var t=util.base64.decode(e);if(this.isSensitive&&util.isNode()&&"function"==typeof util.Buffer.alloc){var r=util.Buffer.alloc(t.length,t);t.fill(0),t=r}return t},this.toWireFormat=util.base64.encode}function Base64Shape(){BinaryShape.apply(this,arguments)}function BooleanShape(){Shape.apply(this,arguments),this.toType=function(e){return"boolean"==typeof e?e:null==e?null:"true"===e}}Shape.normalizedTypes={character:"string",double:"float",long:"integer",short:"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"},Shape.types={structure:StructureShape,list:ListShape,map:MapShape,boolean:BooleanShape,timestamp:TimestampShape,float:FloatShape,integer:IntegerShape,string:StringShape,base64:Base64Shape,binary:BinaryShape},Shape.resolve=function(e,t){if(e.shape){var r=t.api.shapes[e.shape];if(!r)throw new Error("Cannot find shape reference: "+e.shape);return r}return null},Shape.create=function(e,t,r){if(e.isShape)return e;var i=Shape.resolve(e,t);if(i){var p=Object.keys(e);t.documentation||(p=p.filter((function(e){return!e.match(/documentation/)})));var o=function(){i.constructor.call(this,e,t,r)};return o.prototype=i,new o}e.type||(e.members?e.type="structure":e.member?e.type="list":e.key?e.type="map":e.type="string");var a=e.type;if(Shape.normalizedTypes[e.type]&&(e.type=Shape.normalizedTypes[e.type]),Shape.types[e.type])return new Shape.types[e.type](e,t,r);throw new Error("Unrecognized shape type: "+a)},Shape.shapes={StructureShape:StructureShape,ListShape:ListShape,MapShape:MapShape,StringShape:StringShape,BooleanShape:BooleanShape,Base64Shape:Base64Shape},module.exports=Shape;
//# sourceMappingURL=/sm/c37c2f06241b3dc88b9484d48c276539fc24dcb42310a05e9258c054068bdaa1.map