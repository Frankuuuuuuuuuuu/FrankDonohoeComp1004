/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/aws-sdk@2.1342.0/lib/shared-ini/ini-loader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var AWS=require("../core"),os=require("os"),path=require("path");function parseFile(e){return AWS.util.ini.parse(AWS.util.readFileSync(e))}function getProfiles(e){var s={};return Object.keys(e).forEach((function(r){/^sso-session\s/.test(r)||Object.defineProperty(s,r.replace(/^profile\s/,""),{value:e[r],enumerable:!0})})),s}function getSsoSessions(e){var s={};return Object.keys(e).forEach((function(r){/^sso-session\s/.test(r)&&Object.defineProperty(s,r.replace(/^sso-session\s/,""),{value:e[r],enumerable:!0})})),s}AWS.IniLoader=AWS.util.inherit({constructor:function(){this.resolvedProfiles={},this.resolvedSsoSessions={}},clearCachedFiles:function(){this.resolvedProfiles={},this.resolvedSsoSessions={}},loadFrom:function(e){var s=!0===(e=e||{}).isConfig,r=e.filename||this.getDefaultFilePath(s);if(!this.resolvedProfiles[r]){var o=parseFile(r);s?Object.defineProperty(this.resolvedProfiles,r,{value:getProfiles(o)}):Object.defineProperty(this.resolvedProfiles,r,{value:o})}return this.resolvedProfiles[r]},loadSsoSessionsFrom:function(e){var s=(e=e||{}).filename||this.getDefaultFilePath(!0);if(!this.resolvedSsoSessions[s]){var r=parseFile(s);Object.defineProperty(this.resolvedSsoSessions,s,{value:getSsoSessions(r)})}return this.resolvedSsoSessions[s]},getDefaultFilePath:function(e){return path.join(this.getHomeDir(),".aws",e?"config":"credentials")},getHomeDir:function(){var e=process.env,s=e.HOME||e.USERPROFILE||(e.HOMEPATH?(e.HOMEDRIVE||"C:/")+e.HOMEPATH:null);if(s)return s;if("function"==typeof os.homedir)return os.homedir();throw AWS.util.error(new Error("Cannot load credentials, HOME path not set"))}});var IniLoader=AWS.IniLoader;module.exports={IniLoader:IniLoader};
//# sourceMappingURL=/sm/dbaf7c2a8334da565510b0a9f6b3019f08225ea431b7c4201ee11103dcf415d6.map