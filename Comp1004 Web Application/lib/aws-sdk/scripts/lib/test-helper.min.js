/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/aws-sdk@2.1342.0/scripts/lib/test-helper.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const{exec:exec,spawn:spawn}=require("child_process");async function executeCommand(e,t={},o=1){try{const o=e.join(" "),{stderr:r,stdout:s}=await execute(o,t);r&&process.stderr.write(r.toString()),s&&process.stderr.write(s.toString())}catch(r){if(!(o>0))throw r;await executeCommand(e,t,--o)}}function execute(e,t){return new Promise(((o,r)=>{exec(e,t,((e,t,s)=>{e?r(e):o({stdout:t,stderr:s})}))}))}async function executeLongProcessCommand(e,t={},o=1){try{const o=e[0],r=e.slice(1);await promisifiedSpawn(o,r,t)}catch(r){if(!(o>0))throw r;await executeLongProcessCommand(e,t,--o)}}function promisifiedSpawn(e,t,o){return new Promise(((r,s)=>{const n=spawn(e,t,o);n.stdout.on("data",(e=>{process.stdout.write(e.toString())})),n.stderr.on("data",(e=>{process.stderr.write(e.toString())})),n.on("error",(e=>{console.error("spawn error: ",e)})),n.on("close",(o=>{0===o?r():s(`"${e} ${t.join(" ")}" exited with code: ${o}`)}))}))}module.exports={execute:executeCommand,executeLongProcess:executeLongProcessCommand};
//# sourceMappingURL=/sm/f98ffa3b8a8a32a61de42c3b7e0550b2dad5855857954e86fbe6351be3ac7a01.map